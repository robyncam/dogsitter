{% extends 'base.html' %}

{%block title%}
    Profile Pagehttp://127.0.0.1:8000/media/profile_pics/dogheader_Z73Aej0.jpg
{% endblock %}

{% block extra_css %}

.profile_pic {
    display: flex;
    width: 250px;
    height: 250px;
    border-radius: 50%;
    overflow: hidden;
    object-fit: cover;
}

.gallery_image {
    width: 250px;
    height: 250px;
    overflow: hidden;
    object-fit: cover;

}

{% endblock %}

{%block content %}
<div class = "profile_info">
    <h1>{{profile.user.first_name}} {{profile.user.last_name}}</h1>
    <img class="profile_pic" src="{{ profile.image.url }}" alt="Profile Picture">
    <h3> About </h3>
    <h4> I am located in: {{profile.location}} </h4>
    {% if profile.is_dog_sitter %}
        <h4> I am a dog sitter!</h4>
    {% endif %}
    <h4> A little about me: </h4>
    <p>{{profile.bio}}</p>

    {% if profile.user.dog_set.exists %}
        <p>My Dogs: </p>
        {% for dog in profile.user.dog_set.all %}
            <ul><a href="{% url 'dog_profile' dog.pk %}"> {{dog}} </a> </ul>
        {% endfor %}
    {% else %}
        <p>I do not have a dog</p>
    {% endif %}
    <h3> Add a dog <a href="{% url 'add_dog' %}">here</a> </h3>
</div>

{%for dog in profile.user.dog_set.all %}
    {% if dog.is_birthday_today %}
    <h3> Happy Birthday {{dog}} </h3>
{% endif %}
{% endfor %}

{% if profile.user.galleryimage_set.exists %}
    <p> View more pictures: </p>
    <a href="{% url 'view_gallery' profile.pk %}">
        <img class="img-thumbnail gallery_image" alt="View Gallery" src= "{{ profile.user.galleryimage_set.first.image.url }}">
    </a>
{% endif %}

{% if profile.pk == current_user.profile.pk %}
    <h2><a href="{% url 'add_dog' %}"> Create a Profile page for your dog!</a> </h2>

    <p>Update your profile<a href = "{% url 'edit_profile' %}"> here </a></p>
    <p> Add photos to your photo gallery <a href="{% url 'add_images' %}">here</a></p>
{% endif %}

{% if user.dogsitterprofile %}
<h1> I charge: {{user.dogsitterprofile.cost}} per day </h1>
<h1> {{user.dogsitterprofile.get_housing_display}}</h1>
<h1> {{user.dogsitterprofile.get_living_arrangements_display}}</h1>
<h1> Your dog will be left alone for: {{user.dogsitterprofile.get_hours_alone_display}}</h1>
<h1> Your dog will get {{user.dogsitterprofile.get_walks_display}} walks per day </h1>
<h1> Your dog will sleep {{user.dogsitterprofile.get_sleeping_arrangements_display}} at night </h1>
{% endif %}

{% if user.dogsitterprofile.yard %}
<h1> I have a yard </h1>
{% else %}
<h1> I do not have a yard </h1>
{% endif %}

{% if user.dogsitterprofile %}
<h2> Update Dogsitting Information <a href="{% url 'edit_dogsitter_profile' %}">here</a></h2>
{% else %}
<h2> Become a dogsitter - Update your <a href="{% url 'create_dogsitter_profile' %}"> DogSitting Profile </a></h2>
{% endif %}

{% if user.dogsitterprofile %}
<h2> Accepted Dog Sizes into home: </h2>
{{user.dogsitterprofile.get_dog_sizes_display}}
{% endif %}

<p> Update User information <a href="{% url 'edit_info' %}">here</a> </p>

<p>Need to Change your password? </p> <a href="{% url 'change_password' %}">here</a> </p>

{% endblock %}

